function buildNodeFromDefinition(e,n){var t=e[n],a={};if(a.name=t.name,void 0!==t.description&&null!==t.description&&(a.description=marked(t.description)),a.type=n,void 0!==t.allowExtension?a.allowExtension=t.allowExtension:a.allowExtension=!1,void 0!==t.fieldsGroup?a.fieldsGroup=t.fieldsGroup:a.fieldsGroup=!1,a.fieldsGroup||void 0===a.type)a.swaggerType=!1;else{a.swaggerType=!0;var l=a.type.replace(/ /g,"").replace("[","").replace("]","");l=l.charAt(0).toLowerCase()+l.slice(1),a.swaggerTypeURL="http://swagger.io/specification/#"+l}a.required=t.required,a.closedChildren=[];for(var r in t.fields)a.closedChildren.push(buildNodeFromField(e,t.fields[r]));return a.allowExtension&&a.closedChildren.push(buildNodeFromField(e,e["Specification Extensions"])),a}function buildNodeFromField(e,n){var t={},a=!1;if(void 0!==n.type){t.swaggerType=!1;var l;n.type.indexOf("[")>=0?(l=n.type.substring(1,n.type.length-1),a=!0):(l=n.type,a=!1),void 0!==e[l]&&(t=buildNodeFromDefinition(e,l))}if(t.name=n.name,t.type=n.type,t.array=a,void 0!==n.description&&(t.description=marked(n.description)),void 0!==n.values)for(var r=0;r<n.values.length;r++)void 0!==n.values[r].description&&null!==n.values[r].description&&(n.values[r].description=marked(n.values[r].description));return t.required=n.required,t.gfm=n.gfm,t.patterned=n.patterned,t.values=n.values,t}function buildTree(e){var n=buildNodeFromDefinition(e,"Swagger Object");return n}function drawTree(e){function n(e){e.description&&(x.transition().duration(200).style("opacity",.9),x.html(template(e)).style("height",v+"px").style("overflow","scroll"))}function t(e){}function a(e,n,t){if(e){n(e);var l=t(e);if(l)for(var r=l.length,i=0;r>i;i++)a(l[i],n,t)}}function l(){S.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}function r(e){var n=b.scale(),t=-e.y0,a=-e.x0;t=t*n+m/2,a=a*n+v/2,d3.select("g").transition().duration(g).attr("transform","translate("+t+","+a+")scale("+n+")"),b.scale(n),b.translate([t,a])}function i(e){return e.children?(e.closedChildren=e.children,e.children=null):e.closedChildren&&(e.children=e.closedChildren,e.closedChildren=null),e}function o(e){d3.event.defaultPrevented||(e=i(e),s(e),r(e))}function s(e){var a=[1],l=function(e,n){n.children&&n.children.length>0&&(a.length<=e+1&&a.push(0),a[e+1]+=n.children.length,n.children.forEach(function(n){l(e+1,n)}))};l(0,c);var r=25*d3.max(a);y=y.size([r,m]);var i=y.nodes(c).reverse(),s=y.links(i);i.forEach(function(e){e.y=e.depth*(10*d)});var u=S.selectAll("g.node").data(i,function(e){return e.id||(e.id=++h)}),p=u.enter().append("g").attr("class","node").attr("transform",function(n){return"translate("+e.y0+","+e.x0+")"}).on("click",o).on("mouseover",function(e){n(e)}).on("mouseout",function(e){t(e)});p.append("circle").attr("class","nodeCircle").attr("r",0).style("fill",function(e){return e.closedChildren?"lightsteelblue":"#fff"});p.append("text").attr("x",function(e){return e.children||e.closedChildren?-10:10}).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",function(e){return e.children||e.closedChildren?"end":"start"}).text(function(e){return e.name}).style("fill-opacity",0);p.append("circle").attr("class","ghostCircle").attr("r",30).style("fill","red").attr("pointer-events","mouseover").on("mouseover",function(e){E(e)}).on("mouseout",function(e){T(e)}),u.select("text").attr("x",function(e){return e.children||e.closedChildren?-10:10}).attr("text-anchor",function(e){return e.children||e.closedChildren?"end":"start"}).text(function(e){return e.name}),u.select("circle.nodeCircle").attr("r",4.5).style("fill",function(e){return e.closedChildren?"lightsteelblue":"#fff"});var f=u.transition().duration(g).attr("transform",function(e){return"translate("+e.y+","+e.x+")"});f.select("text").style("fill-opacity",1);var v=u.exit().transition().duration(g).attr("transform",function(n){return"translate("+e.y+","+e.x+")"}).remove();v.select("circle").attr("r",0),v.select("text").style("fill-opacity",0);var x=S.selectAll("path.link").data(s,function(e){return e.target.id});x.enter().insert("path","g").attr("class","link").attr("d",function(n){var t={x:e.x0,y:e.y0};return w({source:t,target:t})}),x.transition().duration(g).attr("d",w),x.exit().transition().duration(g).attr("d",function(n){var t={x:e.x,y:e.y};return w({source:t,target:t})}).remove(),i.forEach(function(e){e.x0=e.x,e.y0=e.y})}var c,u=0,d=0,p=null,f=null,h=0,g=750,m=$("#tree-container").width(),v=$(document).height()-$("#tree-container").position().top-50,y=($("#tree-container").position().top,$("#tree-container").position().left,d3.layout.tree().size([v,m])),x=d3.select("#tooltip-container").attr("id","node-tooltip"),w=d3.svg.diagonal().projection(function(e){return[e.y,e.x]});a(e,function(e){u++,d=Math.max(e.name.length,d)},function(e){return e.children&&e.children.length>0?e.children:null});var b=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",l),C=d3.select("#tree-container").append("svg").attr("width",m).attr("height",v).attr("class","overlay").call(b),E=function(e){p=e,k()},T=function(e){p=null,k()},k=function(){var e=[];null!==f&&null!==p&&(e=[{source:{x:p.y0,y:p.x0},target:{x:f.y0,y:f.x0}}]);var n=S.selectAll(".templink").data(e);n.enter().append("path").attr("class","templink").attr("d",d3.svg.diagonal()).attr("pointer-events","none"),n.attr("d",d3.svg.diagonal()),n.exit().remove()},S=C.append("g");c=e,c.x0=v/2,c.y0=0,s(c),r(c)}this.SwaggerSpecificationVisualDocumentation=this.SwaggerSpecificationVisualDocumentation||{},this.SwaggerSpecificationVisualDocumentation.tooltip=Handlebars.template({1:function(e,n,t,a,l){var r,i;return'    <i class="fa fa-indent fa-2x fa-pull-left"></i><p>'+(null!=(i=null!=(i=t.description||(null!=n?n.description:n))?i:t.helperMissing,r="function"==typeof i?i.call(null!=n?n:{},{name:"description",hash:{},data:l}):i)?r:"")+"</p>\n"},3:function(e,n,t,a,l){var r,i,o=null!=n?n:{},s=t.helperMissing,c="function";return"    <h1>"+e.escapeExpression((i=null!=(i=t.name||(null!=n?n.name:n))?i:s,typeof i===c?i.call(o,{name:"name",hash:{},data:l}):i))+'</h1>\n    <div class=".list-group">\n'+(null!=(r=t["if"].call(o,null!=n?n.required:n,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=t["if"].call(o,null!=n?n.array:n,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=t["if"].call(o,null!=n?n.closedChildren:n,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?r:"")+(null!=(r=t["if"].call(o,null!=n?n.gfm:n,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=t["if"].call(o,null!=n?n.allowExtension:n,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=t["if"].call(o,null!=n?n.swaggerType:n,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?r:"")+"  </div>\n    <h2>Description</h2>\n    <p>"+(null!=(i=null!=(i=t.description||(null!=n?n.description:n))?i:s,r=typeof i===c?i.call(o,{name:"description",hash:{},data:l}):i)?r:"")+"</p>\n\n"+(null!=(r=t["if"].call(o,null!=n?n.values:n,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?r:"")},4:function(e,n,t,a,l){return'      <p class=".list-group-item"><i class="fa fa-asterisk fa-fw fa-2x"></i>&nbsp;Required</p>\n'},6:function(e,n,t,a,l){return'      <p class=".list-group-item"><i class="fa fa-list-ul fa-fw fa-2x"></i>&nbsp;Array</p>\n'},8:function(e,n,t,a,l){var r;return'      <p class=".list-group-item"><i class="fa fa-cubes fa-fw fa-2x"></i>&nbsp;'+e.escapeExpression((r=null!=(r=t.type||(null!=n?n.type:n))?r:t.helperMissing,"function"==typeof r?r.call(null!=n?n:{},{name:"type",hash:{},data:l}):r))+"</p>\n"},10:function(e,n,t,a,l){var r;return null!=(r=t["if"].call(null!=n?n:{},null!=n?n.children:n,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.program(13,l,0),data:l}))?r:""},11:function(e,n,t,a,l){var r;return'        <p class=".list-group-item"><i class="fa fa-cubes fa-fw fa-2x"></i>&nbsp;'+e.escapeExpression((r=null!=(r=t.type||(null!=n?n.type:n))?r:t.helperMissing,"function"==typeof r?r.call(null!=n?n:{},{name:"type",hash:{},data:l}):r))+"</p>\n"},13:function(e,n,t,a,l){var r;return'        <p class=".list-group-item"><i class="fa fa-cube fa-fw fa-2x"></i>&nbsp;'+e.escapeExpression((r=null!=(r=t.type||(null!=n?n.type:n))?r:t.helperMissing,"function"==typeof r?r.call(null!=n?n:{},{name:"type",hash:{},data:l}):r))+"</p>\n"},15:function(e,n,t,a,l){return'      <p class=".list-group-item"><i class="fa fa-github-alt fa-fw fa-2x"></i>&nbsp;Allows GFM</p>\n'},17:function(e,n,t,a,l){return'      <p class=".list-group-item"><i class="fa fa-code-fork fa-fw fa-2x"></i>&nbsp;Allows extension</p>\n'},19:function(e,n,t,a,l){var r;return'      <p class=".list-group-item"><i class="fa fa-external-link fa-fw fa-2x"></i>&nbsp;<a href="'+e.escapeExpression((r=null!=(r=t.swaggerTypeURL||(null!=n?n.swaggerTypeURL:n))?r:t.helperMissing,"function"==typeof r?r.call(null!=n?n:{},{name:"swaggerTypeURL",hash:{},data:l}):r))+'" target="_blank">Swagger documentation</a></p>\n'},21:function(e,n,t,a,l){var r,i,o,s='      <h2>Values</h2>\n      <table id="table" class="table table-striped table-bordered table-condensed table-hover" >\n        <tr>\n            <th>\n                Value\n            </th>\n            <th>\n                Default\n            </th>\n            <th>\n                Description\n            </th>\n        </tr>\n\n';return i=null!=(i=t.values||(null!=n?n.values:n))?i:t.helperMissing,o={name:"values",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l},r="function"==typeof i?i.call(null!=n?n:{},o):i,t.values||(r=t.blockHelperMissing.call(n,r,o)),null!=r&&(s+=r),s+"      </table>\n"},22:function(e,n,t,a,l){var r,i=e.lambda,o=e.escapeExpression;return"        <tr>\n          <td>"+o(i(null!=n?n.value:n,n))+"</td>\n          <td>"+o(i(null!=n?n["default"]:n,n))+"</td>\n          <td>"+(null!=(r=i(null!=n?n.description:n,n))?r:"")+"</td>\n        </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,l){var r;return'<div class="entry">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.fieldsGroup:n,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?r:"")+"</div>\n"},useData:!0});var template=SwaggerSpecificationVisualDocumentation.tooltip,xmlhttp=new XMLHttpRequest,url="swagger-specification.json";xmlhttp.onreadystatechange=function(){if(4===xmlhttp.readyState&&200===xmlhttp.status){var e=JSON.parse(xmlhttp.responseText),n=buildTree(e);drawTree(n)}},xmlhttp.open("GET",url,!0),xmlhttp.send();